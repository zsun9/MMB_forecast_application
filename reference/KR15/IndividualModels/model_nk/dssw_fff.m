
function z=dssw_fff(y)
z=zeros(36,1);
global ex_ ex_det_ it_ recur_

global a_bis alpha chi D_adj delta gamma_star gg_star h iota_p iota_w 
global L_adj lambda_f lambda_w nu nu_l phi pi_star psi_1 psi_2 r_star 
global rho_A rho_b rho_g rho_lambda_f rho_mu rho_nu rho_phi rho_R rho_sigma ...
 rho_z 
global s_bis sigma we zeta_p zeta_w 
 beta=1/(r_star/400+1);
 pic_star=pi_star/400+1;
 g_star=1/(1-gg_star);
 gamma=gamma_star/400;
z(1) = beta*y(14)/exp(y(36))/y(14)*y(29)/y(25) -(1);
z(2) = y(14) -(exp(y(15))/(y(1)-h*y(1)/exp(y(36)))-beta*h*exp(y(15))/(exp( ...
y(36))*y(1)-h*y(1)));
z(3) = y(34)^(1+nu_l*(1+lambda_w)/lambda_w) -((1+lambda_w)*y(24)/y(27));
z(4) = y(24) -(exp(y(20))*y(33)^((1+lambda_w)*(1+nu_l)/lambda_w)*y(12)^(1+ ...
nu_l)+beta*zeta_w*(y(25)/(y(25)*exp(y(36)))^iota_w/(pic_star*exp(gamma))^(1- ...
iota_w))^((1+lambda_w)*(1+nu_l)/lambda_w)*exp(((1+lambda_w)*(1+nu_l)/ ...
lambda_w)*y(36))*y(24));
z(5) = y(27) -(y(14)*y(33)^((1+lambda_w)/lambda_w)*y(12)+beta*zeta_w*(y(25) ...
/(y(25)*exp(y(36)))^iota_w/(pic_star*exp(gamma))^(1-iota_w))^(1/lambda_w)* ...
exp(1/lambda_w*y(36))*y(27));
z(6) = y(33) -((zeta_w*(y(33)/exp(y(36))/y(25)*(y(25)*exp(y(36)))^iota_w*( ...
pic_star*exp(gamma))^(1-iota_w))^(-1/lambda_w)+(1-zeta_w)*y(34)^(-1/lambda_w ...
))^(-lambda_w));
z(7) = y(11) -((1-y(2))*y(11)/exp(y(36))+exp(y(18))*(1-s_bis/2*(exp(y(36))* ...
y(9)/y(9)-exp(gamma))^2)*y(9));
z(8) = 1 -(exp(y(18))*(1-s_bis/2*(exp(y(36))*y(9)/y(9)-exp(gamma))^2-exp( ...
y(36))*y(9)/y(9)*s_bis*(exp(y(36))*y(9)/y(9)-exp(gamma)))*y(28)+beta*y(14)/ ...
exp(y(36))/y(14)*exp(y(18))*(exp(y(36))*y(9)/y(9))^2*s_bis*(exp(y(36))*y(9)/ ...
y(9)-exp(gamma))*y(28));
z(9) = y(30) -((y(32)*y(31)-steady_state(y(31))*(y(32)-1)-a_bis/2*(y(32)-1) ...
^2+(1-y(2))*y(28))*y(25)/y(28));
z(10) = y(31) -(steady_state(y(31))+a_bis*(y(32)-1));
z(11) = 1 -(beta*y(14)/y(14)/exp(y(36))*y(30)/y(25));
z(12) = exp(y(36))*y(10) -(y(32)*y(11));
z(13) = y(21) -(1/exp(y(13))*(y(33)/(1-alpha))^(1-alpha)*(y(31)/alpha)^ ...
alpha);
z(14) = y(22) -((1+exp(y(17)))*y(23)/y(26));
z(15) = y(23) -(y(14)*y(21)*y(35)+beta*zeta_p*(y(25)/y(25)^iota_p/pic_star^ ...
(1-iota_p))^((1+exp(y(17)))/exp(y(17)))*y(23));
z(16) = y(26) -(y(14)*y(35)+beta*zeta_p*(y(25)/y(25)^iota_p/pic_star^(1- ...
iota_p))^(1/exp(y(17)))*y(26));
z(17) = 1 -(zeta_p*(1/y(25)*y(25)^iota_p*pic_star^(1-iota_p))^(-1/exp(y(17) ...
))+(1-zeta_p)*y(22)^(-1/exp(y(17))));
z(18) = y(29)/steady_state(y(29)) -((y(29)/steady_state(y(29)))^rho_R*(( ...
y(25)/pic_star)^psi_1*(y(35)/steady_state(y(35)))^psi_2)^(1-rho_R)*exp( ...
ex_(it_-1,7)));
z(19) = 1/exp(y(16))*y(35) -(y(1)+y(9)+(steady_state(y(31))*(y(32)-1)+a_bis ...
/2*(y(32)-1)^2)*y(11)/exp(y(36)));
z(20) = y(12) -(((1-alpha)/alpha)^alpha*(y(31)/y(33))^alpha*y(35)/exp(y(13) ...
)*y(2));
z(21) = y(10) -((alpha/(1-alpha))^(1-alpha)*(y(33)/y(31))^(1-alpha)*y(35)/ ...
exp(y(13))*y(2));
z(22) = y(2) -((1-zeta_p)*y(22)^(-(1+exp(y(17)))/exp(y(17)))+zeta_p*(y(25)^ ...
iota_p*pic_star^(1-iota_p)/y(25))^(-(1+exp(y(17)))/exp(y(17)))*y(2));
z(23) = y(36) -((1-rho_z)*gamma+rho_z*y(36)+ex_(it_-1,8)/100);
z(24) = y(15) -(rho_b*y(15)+ex_(it_-1,2)/100);
z(25) = y(20) -((1-rho_phi)*log(phi)+rho_phi*y(20)+ex_(it_-1,6)/100);
z(26) = y(18) -(rho_mu*y(18)+ex_(it_-1,5)/100);
z(27) = y(17) -((1-rho_lambda_f)*log(lambda_f)+rho_lambda_f*y(17)+ ...
ex_(it_-1,4)/100);
z(28) = y(16) -((1-rho_g)*log(g_star)+rho_g*y(16)+ex_(it_-1,3)/100);
z(29) = y(13) -(rho_A*y(13)+ex_(it_-1,1)/100);
z(30) = y(7) -(100*(log(y(35)/y(35))+y(36)));
z(31) = y(3) -(100*(log(y(1)/y(1))+y(36)));
z(32) = y(4) -(100*(log(y(9)/y(9))+y(36)));
z(33) = y(19) -(100*log(y(12))+L_adj);
z(34) = y(6) -(100*(log(y(33)/y(33))+y(36)));
z(35) = y(5) -(100*log(y(25)));
z(36) = y(8) -(400*(y(29)-1));
if ~isreal(z)
  z = real(z)+imag(z).^2;
end
